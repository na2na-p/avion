# Antenna

## ユースケース

### アンテナの作成

1. ユーザーは、[キーワード, ユーザー]を検知条件として登録する
2. ユーザーは、アンテナの名前を設定する
3. ユーザーは、1 で設定した中で検知されたものから除外するための[キーワード, ユーザー]を登録する
4. ユーザーは、検知オプションとして[大文字小文字の違い]を真偽値として設定できる
5. ユーザーが、保存ボタンを押す
6. フロントエンドはバックエンドに対して mutation.createAntenna を発行する
7. バックエンドは検索条件を DB に格納する

### アンテナの編集

1. ユーザーは、アンテナ一覧画面から、一つ選択し、編集ボタンを押す
2. ユーザーは、1 で選択したアンテナの[name, conditions, exclusions]を編集することができる
3. ユーザーは、選択したアンテナの検知オプションとして[caseSensitive]を編集することができる
4. ユーザーが、保存ボタンを押す
5. フロントエンドはバックエンドに対して mutation.updateAntenna を発行する
6. バックエンドは DB に格納されていた検索条件を更新する

### アンテナの一括削除

1. ユーザーは、アンテナ一覧画面から一括削除ボタンを押す
2. ユーザーは、アンテナ一覧画面から、削除したいものを選択(複数選択可)し、「削除する」ボタンを押す
3. フロントエンドはバックエンドに対して mutation.deleteAntennas を発行する
4. バックエンドは DB に格納されていた検索条件を削除する

### アンテナの一件削除

1. ユーザーは、アンテナ一覧画面から、一つ選択し、編集ボタンを押す
2. ユーザーは、編集画面下部にある、削除ボタンを押す
3. フロントエンドはバックエンドに対して mutation.deleteAntenna を発行する
4. バックエンドは DB に格納されていた検索条件を削除する

### アンテナ TL の表示(Subscription + Server-Sent Events)

#### TODO: Timeline domain に移譲するのでそのうちここからは消す

1. ユーザーは、タイムライン選択で種別: アンテナタイムラインを選択する
2. フロントエンドはバックエンドに対して subscription.antennaTimeline を発行する
3. バックエンドは、アンテナタイムラインの更新を待ち受ける
4. バックエンドは、アンテナタイムラインの更新があった場合、Server-Sent Events でフロントエンドに通知する
